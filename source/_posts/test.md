---
title: FP_growth算法说明
date: 2018-08-26 15:50:10
tags: test
---

FP-Growth算法是韩嘉炜等人在2000年提出的关联分析算法，它采取如下分治策略：将提供频繁项集的数据库压缩到一棵频繁模式树（FP-tree），但仍保留项集关联信息。
在算法中使用了一种称为频繁模式树（Frequent Pattern Tree）的数据结构。FP-tree是一种特殊的前缀树，由频繁项头表和项前缀树构成。FP-Growth算法基于以上的结构加快整个挖掘过程。
<!--more-->
### 一. 主要用途 ###

* 挖掘数据集中的频繁项
* 从频繁项中挖掘关联规则

### 二. 相关基础术语解释 ###

* 举个例子

现在有数据集：


```python
transactions = [[1, 2, 5],
                [2, 4],
                [2, 3],
                [1, 2, 4],
                [1, 3],
                [2, 3],
                [1, 3],
                [1, 2, 3, 5],
                [1, 2, 3]]
```


1. 组合 [1, 2] 在数据集中共出现了4次，在这里我们将4称之为**支持度(support)**
2. **最小支持度(support threshold)**，算法会将支持度大于最小支持度的组合找出来
3. **频繁项(frequent pattern)**，支持度大于最小支持度的组合即为频繁项
4. **关联规则(association rules)**，某个组合的出现将导致另一个组合可能出现的规则，
即两个频繁项之间的关联度
5. **可信度(confidence)**，如下面的算例，关联规则 (1)->(3) 即组合 (1) 出现导致 (3) 
的概率为 `4/6`，这个概率值即为关联规则 (1)->(3) 的可信度
6. **最小可信度(confidence threshold)**，算法将找出大于最小可信度的关联规则
>假设将最小支持度设置为4，利用该算法可得到频繁项如下(冒号后面的数字表示该组合的支持度)：
(1): 6, (1, 2): 4, (2, 3): 4, (1, 3): 4, (2): 7


>假设将最小可信度设置为0.5，利用该算法可得到关联规则如下(冒号后面的数字表示该规则的自信度)：
(1)->(3): 0.6666666666666666, (2)->(3): 0.5714285714285714


### 三. 应用思路 ###

1. 由于监测数据大都是连续的，而具体的数值的组合基本都是独特的，支持度极小，以至于无法获得有效的信息；
因此我们将影响目标值的特征因素的数值进行离散化，获得特征因素的各个区间，区间之间的支持度差异会大大增加。
从而就可以获得数据中的有效信息。
2. 采用了 K 均值聚类算法对特征因素的数值进行离散化，并且采用了轮廓系数法来选取最佳的聚类数 K。
3. 在具体应用的过程中，由于寻找总体数据的频繁项没有什么指导性意义，所以这里根据目标值的类别分别寻找各自的频繁项，
又由于目标值的各个类别的样本数量可能差距较大，设置一个具体的最小支持度可能将会出现两种结果：
最小支持度过小，样本数量大的目标值对应的频繁项过多，造成无效信息；最小支持度过大，样本数量小的目标值对应的频繁项过少甚至没有，
无法获取有效信息。基于以上原因，这里提出了**相对最小支持度**(relative support threshold)的概念，
即样本数量的百分比，有效地解决了上面的问题。
4. 通过上面的处理，可以得到目标值的各个类别的频繁项集合，可以根据用户的需要展示前 n 个频繁项。
5. 同时，还获取了目标值各个类别频繁项之间的交集以及交集中频繁项在各个类别中的支持度，
用于展示交集频繁项的支持度在各个类别中变化的趋势。


